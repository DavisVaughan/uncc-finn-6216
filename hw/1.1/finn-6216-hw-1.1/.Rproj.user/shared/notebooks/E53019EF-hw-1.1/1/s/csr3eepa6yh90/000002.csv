"0","plot_ecdf <- function(x, which_approx) {"
"0","  ggplot(x, aes(x = portf_delta_p)) +"
"0","  stat_ecdf(geom = ""step"", size = .8) +"
"0","  geom_hline(yintercept = 1, linetype = ""dashed"") +"
"0","  geom_hline(yintercept = 0, linetype = ""dashed"") +"
"0","  geom_vline(xintercept = sort(x$portf_delta_p)[percentile_99], linetype = ""dashed"") + "
"0","  theme_minimal() +"
"0","  labs(x = ""Loss (Negative = worse)"", y = ""ECDF"", "
"0","       title = ""ECDF of the loss distribution. Vertical line marks VaR."", "
"0","       subtitle = which_approx)"
"0","}"
